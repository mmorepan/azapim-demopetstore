{
	"info": {
		"_postman_id": "6243193d-0b7b-49ce-baa7-b1b2c3814ded",
		"name": "_t02-token",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "pre-process",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a33b07e2-1221-4185-9d8f-ef14b62ceac8",
						"exec": [
							"var expires_on = parseInt(pm.collectionVariables.get(\"expires_on\"))\r",
							"var getCurrentTime = () => {\r",
							"    return Math.round(Date.now() / 1000)\r",
							"}\r",
							"\r",
							"/* We can use the access_token a minute (60 seconds) before it expires */\r",
							"if (getCurrentTime() + 60 < expires_on) {\r",
							"    postman.setNextRequest(\"get\")\r",
							"}\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://postman-echo.com/get",
					"protocol": "https",
					"host": [
						"postman-echo",
						"com"
					],
					"path": [
						"get"
					]
				}
			},
			"response": []
		},
		{
			"name": "Oauth 2.0",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "34e88801-2cf9-46fc-8568-c61881448b62",
						"exec": [
							"var jsonResponse = pm.response.json()\r",
							"\r",
							"pm.collectionVariables.set(\"refresh_token\", jsonResponse.refresh_token)\r",
							"pm.collectionVariables.set(\"access_token\", jsonResponse.access_token)\r",
							"pm.collectionVariables.set(\"expires_on\", jsonResponse.expires_on)\r",
							"\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "c53f8b6b-7dd1-4824-a47a-6bbc94434726",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/x-www-url-form-urlencoded"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "client_id",
							"value": "c7476004-2000-4af0-adb9-f2a213eb171a",
							"type": "text"
						},
						{
							"key": "resource",
							"value": "728bd85e-b59e-403c-bd76-7773c0dc9491",
							"type": "text"
						},
						{
							"key": "redirect_uri",
							"value": "https://apimngr-genesis-dev.portal.azure-api.net/docs/services/integrationoauth/console/oauth2/authorizationcode/callback",
							"type": "text"
						},
						{
							"key": "grant_type",
							"value": "refresh_token",
							"type": "text"
						},
						{
							"key": "client_secret",
							"value": "[0xY7xa2B?FULfcH8sHpS]qu/[QFYRdc",
							"type": "text"
						},
						{
							"key": "refresh_token",
							"value": "AQABAAAAAAAm-06blBE1TpVMil8KPQ41MUNN1CT-taMm0ZyvXoC9QOU3b5gvCYl9UazjCxl0YpB7vz3yn9edMA1Jg1oqJlUiAg2JoZgSSgFByHW5lu04amy-m-9o7L5HFhcQ2i-nGdn8NGmYaMkaEbP9U70by6pzEsFrB0paTuzBFGyHriPgG-KxsNWtMkzjXNMFvZDKJmp6hBRp0-VcZw7GMd3E2NJk0_rx3ua-foEhGo8vhj9bFCSoLCIvC6cHBDi9NCUOSBtPfiJJL9UQbBy3yqHWZMxsnYGE8SV9PEcKYBlWKSsPnvQCAgGE7PpOOMzGRHSkqllUkLJhBZ9fBN7pUFBUlotYEGJI23DPe4BooNUlwgw41ptzAvDdVJZArRgZI5yd4s2FKYXeLrrA_8taUubtAQxFRh1kJXXi9csFz9eTcOrhFOLFC_pM_9Y0WhN46DQ74CZBZR5OyZOgjdf61z3ZB6-f8-VJB7q5facBStndyWAg6GxGA3ppNazL9sGgJUNQyfzpabja_agkY9U9Mi2recndm5E_xOW15ukDS4jyT1G9tU2e0U8PBELyDWi9CEtjdfmO7s4F0nB6hQy5NMKc864Q70NMKq7I5GoKYTE6dLap4TZ76j15fhcLF4nLB8hs6F5YmwcmHIENGotIiajZ_H-b_DUV9kyzjBOHHmxt_Pj3PB1S7t2iUs33UFRsnjZ797HmHTrOe7mk8yfGBiDxEeQSzCZBUKJuRX0XTp7rosGV6FznnGxlR4dDsHpxyLssiuigd1iAH3R8QfjVmdWO88MO6InlQRNrXpJgLHPB7qknhA_oyzZtvisSfeFmtmAu5SPWrxvCi2uNcujBFzPulPcEi_OituFL6LvPbzaQaZS5rOqz2U37r7OOsg-PBD_vyddZQ39UE951u4FGCSbL8NyuI-X-rOlrx2WYKjSfVMpyQrO1zAt7OGcyJjiWeAGmdFXmjSQCiol5iRZawmxjV0iIBdUafoZmljQNHh8803l8NBqBhsBPJ2SixvZFKxILvRitgn_3JMvb5IBZAU_C9EqQioTfNgQTMa2lb63fnjh0u9Xeguw7Unbu60U2Q76eyJEsVw69x3_7p1y_1oG5RSiGh9hhNs46WDCCFlWDXtSfgvS5MbVyOPQ-VcrE4OedgkP9cnQ_aQ4Hg-D4vvt0sWKbIB3YOCMB1wEc-nwV446p3iAA",
							"type": "text"
						}
					],
					"options": {
						"urlencoded": {}
					}
				},
				"url": {
					"raw": "https://login.microsoftonline.com/929616ff-818c-4541-b071-2bd6ab912e88/oauth2/token",
					"protocol": "https",
					"host": [
						"login",
						"microsoftonline",
						"com"
					],
					"path": [
						"929616ff-818c-4541-b071-2bd6ab912e88",
						"oauth2",
						"token"
					]
				}
			},
			"response": []
		},
		{
			"name": "get",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "c95a367b-4799-40fc-87f9-3b8482c71446",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "5545549c-11f6-4795-8b4e-bbd9ab4e5393",
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Ocp-Apim-Subscription-Key",
						"value": "87ede122a7dd4958aa5ad90c4ee58c71",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://apimngr-genesis-dev.azure-api.net/demo/petstore/pets/2",
					"protocol": "https",
					"host": [
						"apimngr-genesis-dev",
						"azure-api",
						"net"
					],
					"path": [
						"demo",
						"petstore",
						"pets",
						"2"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "57e12857-6128-4251-b972-65747e6fa76c",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "76307be7-9fb3-4fba-befd-621976822ebf",
						"exec": [
							"pm.test(\"Status code is 201\", function () {\r",
							"    pm.response.to.have.status(201);\r",
							"});\r",
							"\r",
							"pm.test(\"Response time is odd\", function () {\r",
							"    pm.expect(pm.response.responseTime % 2).to.be.eql(1);\r",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Ocp-Apim-Subscription-Key",
						"value": "87ede122a7dd4958aa5ad90c4ee58c71",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{access_token}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\": \"morpheus\",\r\n    \"job\": \"leader\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://apimngr-genesis-dev.azure-api.net/demo/petstore/pets",
					"protocol": "https",
					"host": [
						"apimngr-genesis-dev",
						"azure-api",
						"net"
					],
					"path": [
						"demo",
						"petstore",
						"pets"
					]
				}
			},
			"response": [
				{
					"name": "201 Create - 01",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Ocp-Apim-Subscription-Key",
								"value": "87ede122a7dd4958aa5ad90c4ee58c71",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"morpheus\",\r\n    \"job\": \"leader\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://apimngr-genesis-dev.azure-api.net/demo/petstore/pets",
							"protocol": "https",
							"host": [
								"apimngr-genesis-dev",
								"azure-api",
								"net"
							],
							"path": [
								"demo",
								"petstore",
								"pets"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Via",
							"value": "1.1 vegur"
						},
						{
							"key": "Content-Length",
							"value": "84"
						},
						{
							"key": "Content-Type",
							"value": "application/json; charset=utf-8"
						},
						{
							"key": "ETag",
							"value": "W/\"54-Vus37zjZTpmRxkJg+XN0DJBYCks\""
						},
						{
							"key": "Access-Control-Allow-Origin",
							"value": "*"
						},
						{
							"key": "CF-Cache-Status",
							"value": "DYNAMIC"
						},
						{
							"key": "Expect-CT",
							"value": "max-age=604800,report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\""
						},
						{
							"key": "CF-RAY",
							"value": "5981c80de926cf3c-IAD"
						},
						{
							"key": "cf-request-id",
							"value": "02e4fb5cb00000cf3c120a7200000001"
						},
						{
							"key": "Set-Cookie",
							"value": "__cfduid=ddb067cafb7553638039cdf356ddf70b41590268413; expires=Mon, 22-Jun-20 21:13:33 GMT; path=/; domain=.reqres.in; HttpOnly; SameSite=Lax; Secure"
						},
						{
							"key": "X-Powered-By",
							"value": "Express"
						},
						{
							"key": "Date",
							"value": "Sat, 23 May 2020 21:13:33 GMT"
						}
					],
					"cookie": [],
					"body": "{\n    \"name\": \"morpheus\",\n    \"job\": \"leader\",\n    \"id\": \"510\",\n    \"createdAt\": \"2020-05-23T21:13:33.266Z\"\n}"
				}
			]
		}
	],
	"variable": [
		{
			"id": "13120cef-ad46-44d2-8237-817b90ed3a2b",
			"key": "access_token",
			"value": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IlNzWnNCTmhaY0YzUTlTNHRycFFCVEJ5TlJSSSIsImtpZCI6IlNzWnNCTmhaY0YzUTlTNHRycFFCVEJ5TlJSSSJ9.eyJhdWQiOiI3MjhiZDg1ZS1iNTllLTQwM2MtYmQ3Ni03NzczYzBkYzk0OTEiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC85Mjk2MTZmZi04MThjLTQ1NDEtYjA3MS0yYmQ2YWI5MTJlODgvIiwiaWF0IjoxNTkyMzUwMTY4LCJuYmYiOjE1OTIzNTAxNjgsImV4cCI6MTU5MjM1NDA2OCwiYWNyIjoiMSIsImFpbyI6IkFXUUFtLzhQQUFBQStXSFdYNE81RXdreTRZd0xGSDhFbTZzY0RSRGptZkVLTlFzU1FaaTR5K0pRdXFQWStQd1BldDJFRFV4Q29uOUVPQk8zQkR0UXBHWEppRnkxb2ZUcjFGaVppMDdkUTNiTU5jZjZzUU9Kc01oK1F3YlR2eXdMWkRwa2xBMURZTHdwIiwiYW1yIjpbInB3ZCJdLCJhcHBpZCI6ImM3NDc2MDA0LTIwMDAtNGFmMC1hZGI5LWYyYTIxM2ViMTcxYSIsImFwcGlkYWNyIjoiMSIsImVtYWlsIjoiamhvbi5sdWlzLnZhbGVuenVlbGEuZ2FyY2lhQGV2ZXJpcy5jb20iLCJpZHAiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8zMDQ4ZGM4Ny00M2YwLTQxMDAtOWFjYi1hZTE5NzFjNzkzOTUvIiwiaXBhZGRyIjoiMTkwLjIzNy4xNDkuMTEzIiwibmFtZSI6Ikpob24gTHVpcyBWYWxlbnp1ZWxhIEdhcmNpYSIsIm9pZCI6ImVmYWQ4ZjM2LTEyNWYtNDNmNi05MWE2LWU2OTg0YzExMzBiZiIsInNjcCI6IkxlZXIuTWFnZW50byIsInN1YiI6ImoyRDJIQngxVlZqN3dmbVZwbEVNZmo2ejRJTHpqS2hLdWdXOGZLTjRLVVkiLCJ0aWQiOiI5Mjk2MTZmZi04MThjLTQ1NDEtYjA3MS0yYmQ2YWI5MTJlODgiLCJ1bmlxdWVfbmFtZSI6Impob24ubHVpcy52YWxlbnp1ZWxhLmdhcmNpYUBldmVyaXMuY29tIiwidXRpIjoiNjhkaXJocDk1RWEzemIzeTlDVzVBQSIsInZlciI6IjEuMCJ9.XRwU2oUpN4zrTy_qcpkHhZeBBYGJ7dLZS-9U9eCol0-oY-YKIfBikUPsJaTjg7nn0lrV_R7_ASVuQebxDZRlqLCSQ5zR4oDZUq8NdedePh6FQ09ZYnbqwNnM6EbrQj4E-5Nw6pbSQOqUAMkbfudtcwxB2LQf1n5Ez0tdQiY43VLa5mzabFy3O0Pne2uph1PAt2tyC4JmkLFsz-3Kp529Ge7NGMqBSDY0Bhr1zu6vckf-Y7NDg9SEKBse6qyIWNsd6jk-gk0d2iooVZw7pywMN2G1PjxvuNqq-XGsePn4pBa7kxXUTEdfoIUuaqa_7vy3Z52px7OBbN1j5zYgKu5Q1A",
			"type": "string"
		},
		{
			"id": "b4d2ed72-76af-4d38-9785-949a6f01b5cb",
			"key": "expires_on",
			"value": "1592354068",
			"type": "string"
		},
		{
			"id": "50366e98-ff95-42eb-9e44-bcd19e1d5792",
			"key": "refresh_token",
			"value": "AQABAAAAAAAm-06blBE1TpVMil8KPQ41m4dqD8g6QNQh0GNgNaRX9ir9DLcw1Qz_eUkbj_d7mGh5uIrCwdqoWDJJLwyRzkBe5ODADWpoDKfR4_mPqSOBqL2y2tqVlgtgTM9CIEYIaDBfv8nS_GwT9tvoUvxDhnnuDIJ-AyyqFuhLjYssi_za4jKhgAFOK_h0EeFIkOOGZCYlKd0yw-QPc-m9O2uqhz78TE3XzXiEp0oHkc59cAN6lnh7EJIQXbVnJbFF68afbnxTXPEWwE33sZ2Y92vY-dHfCI0Zxqi5pPGtDiYYqpQsaMNkrCOb8HXu_bqtp_u4czz_yEomf4s7lesMCrvY7ZlbHXlEqjRHnZJVVwE5MkeQyJhItKS8Rs34d_opCbe0wC6newjBo88D5LrV6pf-d0kVeyvmUuyLsKPoy_0wwIS8hIukzBIAlxaT1jCVFs8A9Fk8hM17nwBMqB-eYLHDTsynAYbjbf2lkwmxZ2U2hr0JPWkDqO58lz8BmKEI8-Ark31Zlvh255rTRV2vWtyAyqf5uN8LrpTL2bAguwC48S4G4yRUNNqg_MilhoH2dvFMHBI2RyfiTftJMX7mCsfiaIRCi4Dq4GORlu6gXDzR2OCAuOKgY9q_jfrwNr9NTAuqlr81fyfdr5hc48co4iHXLX9ltjyn5XkElJH-QwYlBaDMFp7evpALNKnYeu76JiAO1y3ksiwRiAa-QnnxR5rVgCiWHIiup13SwdxdA_2Q_zr7oxamzk2A-L-XsBiRxyNxlkBc2ly18hlEKq1Noq2rn7MD1FpTqFOYldf2PVREUNL6w487pYzuL_LFjseaFtHpMQAZSUj7N6SS6ggZ01w7WF03RP1xXvCmM8_8UwK25IFdu8byfgsHFvkPH_FYelLKJ3S5l3Umg7EdEtG-prAc6KQaAsVY1nNE0hg2HfJQyDwnDRNL1cM0sXgcDnIi-3_uZIej-2tybhqPIdKzLU-62-NOSrjhU1ObD4Bylnd4-SzDLU-pxKe0X8ol-t6Sja085u4usqnY2DEgo9SlofSa1AKlC0dSYkGSwBhyYPp0JOrYEhdddGmEmdi4-GYelMDGALlcTYNERPfnPgS8h9Nvi88wmemro7ZimXNNjEeJAuwGiT60J94y6rC2tXntpyliDjDGOkW5iSdSnnXAk0LnskpZMxNDq74JUtoiUcMAdrbfNT4sydfMhLXL3Pc4EfN2VfsgAA",
			"type": "string"
		}
	],
	"protocolProfileBehavior": {}
}